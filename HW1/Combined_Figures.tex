% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\documentclass[
  10pt,
]{article}
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amssymb}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Combined Figures - GIS Assignment 1},
  pdfauthor={Erika Yazmin Blanco, Felipe Manzi, Olsa Berani, Olta Recica},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Combined Figures - GIS Assignment 1}
\author{Erika Yazmin Blanco, Felipe Manzi, Olsa Berani, Olta Recica}
\date{2026-01-27}

\begin{document}
\maketitle

\section{1. Mettetal, E., 2019. Irrigation dams, water and infant
mortality: Evidence from South Africa (fig.~2: hydro dams in South
Africa)}\label{mettetal-e.-2019.-irrigation-dams-water-and-infant-mortality-evidence-from-south-africa-fig.-2-hydro-dams-in-south-africa}

Original File: \texttt{Figure\_1/Figure1\_olta.rmd}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Load packages used in class for vector and raster spatial analysis}
\CommentTok{\# sf: vector data (districts, dams)}
\CommentTok{\# terra: raster data (elevation)}
\CommentTok{\# tidyverse: data handling and plotting}
\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{library}\NormalTok{(terra)}
\FunctionTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Load data}\label{load-data}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Load spatial data}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# Administrative districts of South Africa (level 2)}
\CommentTok{\# These units match the spatial aggregation used in the paper}
\NormalTok{sa\_districts }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\StringTok{"boundaries/gadm41\_ZAF\_2.shp"}\NormalTok{)}

\CommentTok{\# Global Reservoir and Dam (GRanD) database}
\CommentTok{\# Provides point locations of large dams worldwide}
\NormalTok{dams }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\StringTok{"dams/GRanD\_dams\_v1\_3.shp"}\NormalTok{)}

\CommentTok{\# Elevation raster (SRTM{-}based)}
\CommentTok{\# Used as a proxy for river gradient at the district level}
\NormalTok{elev }\OtherTok{\textless{}{-}} \FunctionTok{rast}\NormalTok{(}\StringTok{"elevation/wc2.1\_30s\_elev.tif"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Filter dams}\label{filter-dams}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Restrict dams to South Africa}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# Spatial intersection keeps only dam points located}
\CommentTok{\# within South African district boundaries}
\NormalTok{dams\_sa }\OtherTok{\textless{}{-}}\NormalTok{ dams[sa\_districts, ]}
\end{Highlighting}
\end{Shaded}

\subsubsection{CRS harmonisation}\label{crs-harmonisation}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Harmonise coordinate reference systems}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# All spatial objects are transformed to WGS84 (EPSG:4326).}
\CommentTok{\# Although the original datasets already use this CRS,}
\CommentTok{\# this step ensures consistency and mirrors the class workflow.}
\NormalTok{sa\_districts }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(sa\_districts, }\DecValTok{4326}\NormalTok{)}
\NormalTok{dams\_sa }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(dams\_sa, }\DecValTok{4326}\NormalTok{)}
\NormalTok{elev }\OtherTok{\textless{}{-}} \FunctionTok{project}\NormalTok{(elev, }\StringTok{"EPSG:4326"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Crop and mask raster}\label{crop-and-mask-raster}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Crop elevation raster to South Africa}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# Convert district polygons to terra vector format}
\NormalTok{sa\_vect }\OtherTok{\textless{}{-}} \FunctionTok{vect}\NormalTok{(sa\_districts)}

\CommentTok{\# Crop and mask reduce the raster to the study area,}
\CommentTok{\# improving performance and ensuring correct aggregation}
\NormalTok{elev\_sa }\OtherTok{\textless{}{-}} \FunctionTok{crop}\NormalTok{(elev, sa\_vect)}
\NormalTok{elev\_sa }\OtherTok{\textless{}{-}} \FunctionTok{mask}\NormalTok{(elev\_sa, sa\_vect)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Aggregate elevation (this is
key)}\label{aggregate-elevation-this-is-key}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Aggregate elevation by district}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# Mean elevation is computed for each district polygon}
\CommentTok{\# This serves as a proxy for average river gradient,}
\CommentTok{\# which is not directly available at the district level}
\NormalTok{elev\_mean }\OtherTok{\textless{}{-}}\NormalTok{ terra}\SpecialCharTok{::}\FunctionTok{extract}\NormalTok{(}
\NormalTok{  elev\_sa,}
\NormalTok{  sa\_vect,}
  \AttributeTok{fun =}\NormalTok{ mean,}
  \AttributeTok{na.rm =} \ConstantTok{TRUE}
\NormalTok{)}

\CommentTok{\# Attach aggregated values to district data}
\NormalTok{sa\_districts}\SpecialCharTok{$}\NormalTok{mean\_elev }\OtherTok{\textless{}{-}}\NormalTok{ elev\_mean[, }\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\subsubsection{Create classes}\label{create-classes}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Create discrete elevation classes}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\CommentTok{\# Quantile{-}based bins are used to reproduce the}
\CommentTok{\# discrete shading scheme of the original figure}
\NormalTok{breaks }\OtherTok{\textless{}{-}} \FunctionTok{quantile}\NormalTok{(}
\NormalTok{  sa\_districts}\SpecialCharTok{$}\NormalTok{mean\_elev,}
  \AttributeTok{probs =} \FunctionTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{7}\NormalTok{),}
  \AttributeTok{na.rm =} \ConstantTok{TRUE}
\NormalTok{)}

\NormalTok{labels }\OtherTok{\textless{}{-}} \FunctionTok{paste0}\NormalTok{(}
  \FunctionTok{round}\NormalTok{(breaks[}\SpecialCharTok{{-}}\FunctionTok{length}\NormalTok{(breaks)]), }\StringTok{"–"}\NormalTok{, }\FunctionTok{round}\NormalTok{(breaks[}\SpecialCharTok{{-}}\DecValTok{1}\NormalTok{])}
\NormalTok{)}

\NormalTok{sa\_districts}\SpecialCharTok{$}\NormalTok{elev\_class }\OtherTok{\textless{}{-}} \FunctionTok{cut}\NormalTok{(}
\NormalTok{  sa\_districts}\SpecialCharTok{$}\NormalTok{mean\_elev,}
  \AttributeTok{breaks =}\NormalTok{ breaks,}
  \AttributeTok{labels =}\NormalTok{ labels,}
  \AttributeTok{include.lowest =} \ConstantTok{TRUE}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Replication of Figure 2: Dam locations and average
elevation by
district}\label{replication-of-figure-2-dam-locations-and-average-elevation-by-district}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# Replication map}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ sa\_districts, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{fill =}\NormalTok{ elev\_class),}
          \AttributeTok{color =} \StringTok{"white"}\NormalTok{, }\AttributeTok{linewidth =} \FloatTok{0.15}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ dams\_sa, }\AttributeTok{color =} \StringTok{"black"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.3}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.6}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_grey}\NormalTok{(}\AttributeTok{start =} \FloatTok{0.9}\NormalTok{, }\AttributeTok{end =} \FloatTok{0.2}\NormalTok{,}
                  \AttributeTok{name =} \StringTok{"Average elevation}\SpecialCharTok{\textbackslash{}n}\StringTok{(proxy for river gradient)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Dam locations and average elevation by district"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{panel.grid =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.text =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.title =} \FunctionTok{element\_blank}\NormalTok{()}
\NormalTok{  )}

\FunctionTok{ggsave}\NormalTok{(}
  \StringTok{"figure2\_dams\_elevation.png"}\NormalTok{,}
  \AttributeTok{plot =}\NormalTok{ p,}
  \AttributeTok{width =} \DecValTok{14}\NormalTok{,}
  \AttributeTok{height =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{dpi =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Explanation section}\label{explanation-section}

\subsection{Data choices and proxy
justification}\label{data-choices-and-proxy-justification}

The original figure reports average river gradient by district, a
variable that is not directly available at the administrative district
level for South Africa. To reproduce the qualitative spatial patterns
shown in the paper, I use mean elevation aggregated at the district
level as a proxy. Elevation captures broad variation in terrain
steepness and is correlated with river gradients at an aggregate spatial
scale.

Elevation values are derived from SRTM-based raster data and aggregated
using district polygons. Districts are grouped into quantile-based
classes to match the discrete shading used in the original figure rather
than a continuous color scale. Dam locations are taken from the GRanD
database and restricted to South Africa using spatial intersection.

This approach reproduces the main qualitative features of the original
map, including the concentration of dams in higher-elevation eastern
regions. While elevation is an imperfect substitute for river gradient,
it provides a transparent and replicable proxy given data availability
constraints.

\subsubsection{Resulting Figure 1}\label{resulting-figure-1}

\begin{figure}
\centering
\pandocbounded{\includegraphics[keepaspectratio,alt={Figure 1}]{Figure_1/figure2_dams_elevation.png}}
\caption{Figure 1}
\end{figure}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{2. Fried, S. and Lagakos, D., 2021. Rural electrification,
migration and structural transformation: Evidence from Ethiopia (fig.~4:
districts and electricity grid in
Ethiopia)}\label{fried-s.-and-lagakos-d.-2021.-rural-electrification-migration-and-structural-transformation-evidence-from-ethiopia-fig.-4-districts-and-electricity-grid-in-ethiopia}

Original File: \texttt{Figure\_2/R\_olsa/ethiopia.Rmd}

\subsection{Objective}\label{objective}

This notebook replicates \textbf{Figure 4: Districts and Electricity
Grid in Ethiopia} from \emph{Fried and Lagakos (2021)} as part of the
take-home assignment on spatial data visualization using vector data in
economics.

\subsection{Replication}\label{replication}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{(}\AttributeTok{list =} \FunctionTok{ls}\NormalTok{())}

\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(dplyr)}

\FunctionTok{setwd}\NormalTok{(}\StringTok{"/Users/olsaberani/Desktop/Figure\_2"}\NormalTok{)}

\CommentTok{\# Load administrative districts}
\NormalTok{districts }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\StringTok{"gadm/gadm41\_ETH\_2.shp"}\NormalTok{)}

\CommentTok{\# Load electricity transmission lines}
\NormalTok{grid\_raw }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\StringTok{"grid/ethiopia\_power\_lines.geojson"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}
    \AttributeTok{data =}\NormalTok{ districts,}
    \AttributeTok{fill =} \StringTok{"grey85"}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"white"}\NormalTok{,}
    \AttributeTok{linewidth =} \FloatTok{0.2}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}
    \AttributeTok{data =}\NormalTok{ grid\_raw,}
    \AttributeTok{color =} \StringTok{"red"}\NormalTok{,}
    \AttributeTok{linewidth =} \FloatTok{0.6}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_void}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Figure 4: Districts and Electricity Grid in Ethiopia"}\NormalTok{,}
    \AttributeTok{caption =} \StringTok{"Districts: GADM (Level 2). Electricity grid: OpenStreetMap (Overpass Turbo). Replication of Fried and Lagakos (2021)."}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\subsubsection{Resulting Figure 2}\label{resulting-figure-2}

\begin{figure}
\centering
\pandocbounded{\includegraphics[keepaspectratio,alt={Figure 2}]{Figure_2/R_olsa/Figure_2.png}}
\caption{Figure 2}
\end{figure}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{3. Pellegrina, H.S. and Sotelo, S., 2025. Migration,
Specialization, and Trade: Evidence from Brazil's March to the West
(fig.~2: Population in Brazil's meso-regions (or districts) in different
periods}\label{pellegrina-h.s.-and-sotelo-s.-2025.-migration-specialization-and-trade-evidence-from-brazils-march-to-the-west-fig.-2-population-in-brazils-meso-regions-or-districts-in-different-periods}

Original File: \texttt{Figure\_3/Fig3.Rmd}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(readr)}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(tidyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{library}\NormalTok{(geobr)}
\FunctionTok{library}\NormalTok{(stringi)}
\FunctionTok{library}\NormalTok{(scales)}
\FunctionTok{library}\NormalTok{(rmapshaper)}
\end{Highlighting}
\end{Shaded}

In the original paper, the author works with mesoregions as the main
spatial unit of analysis. However, this level of geographic aggregation
is not consistently available in official digital sources for the full
time span considered here. While the author digitized mesoregional
information from historical census publications for earlier decades,
publicly available mesoregion data from official sources only start in
1970. To ensure consistency across time and to rely exclusively on
official, harmonized data sources, we conduct the analysis at the state
(UF) level for all years. Using mesoregions only from 1970 onward would
require combining spatial units of different granularity (states before
1970 and mesoregions after 1970), which would make the visualization of
long-run spatial changes misleading and difficult to interpret. All
population data used in this replication were collected from IBGE's
SIDRA system, accessed through the official IBGE API. In particular, we
rely on SIDRA Table 4714 (\url{https://sidra.ibge.gov.br/tabela/4714}),
which provides harmonized population totals by state from the Brazilian
population censuses. This choice ensures transparency, reproducibility,
and consistency of the data across years, while preserving comparability
with the original analysis.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{raw }\OtherTok{\textless{}{-}} \FunctionTok{read\_lines}\NormalTok{(}\StringTok{"pop\_data.csv"}\NormalTok{)}

\CommentTok{\# keep:}
\CommentTok{\# {-} line 4 (header)}
\CommentTok{\# {-} lines 6 to 32 (data)}
\NormalTok{clean\_lines }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(raw[}\DecValTok{4}\NormalTok{], raw[}\DecValTok{6}\SpecialCharTok{:}\DecValTok{32}\NormalTok{])}

\NormalTok{pop\_wide }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv2}\NormalTok{(}
  \FunctionTok{I}\NormalTok{(clean\_lines),}
  \AttributeTok{show\_col\_types =} \ConstantTok{FALSE}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Next, we merge Distrito Federal into Goiás by renaming both to ``Goiás''
and summing across years, leaving a single row for Goiás and removing DF
from the dataset. We basically do it because Distrito Federal was formed
after 1950 when Brazil ``created'' the city of Brasilia to be the
capital.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{years }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"1950"}\NormalTok{, }\StringTok{"2000"}\NormalTok{, }\StringTok{"2010"}\NormalTok{)}

\NormalTok{pop\_wide2 }\OtherTok{\textless{}{-}}\NormalTok{ pop\_wide }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\FunctionTok{across}\NormalTok{(}\FunctionTok{all\_of}\NormalTok{(years), as.numeric)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{uf\_std =} \FunctionTok{case\_when}\NormalTok{(}
      \StringTok{\textasciigrave{}}\AttributeTok{Unidade da Federação}\StringTok{\textasciigrave{}} \SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{"Goiás"}\NormalTok{, }\StringTok{"Goias"}\NormalTok{, }\StringTok{"Distrito Federal"}\NormalTok{) }\SpecialCharTok{\textasciitilde{}} \StringTok{"Goiás"}\NormalTok{,}
      \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{\textasciigrave{}}\AttributeTok{Unidade da Federação}\StringTok{\textasciigrave{}}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(uf\_std) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}\FunctionTok{across}\NormalTok{(}\FunctionTok{all\_of}\NormalTok{(years), sum, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{), }\AttributeTok{.groups =} \StringTok{"drop"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{rename}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{Unidade da Federação}\StringTok{\textasciigrave{}} \OtherTok{=}\NormalTok{ uf\_std)}
\end{Highlighting}
\end{Shaded}

We then reshape the data to long format and compute population shares
within each year (i.e., the shares sum to 1 separately for 1950, 2000,
and 2010).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop\_long }\OtherTok{\textless{}{-}}\NormalTok{ pop\_wide2 }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{pivot\_longer}\NormalTok{(}\AttributeTok{cols =} \FunctionTok{all\_of}\NormalTok{(years), }\AttributeTok{names\_to =} \StringTok{"year"}\NormalTok{, }\AttributeTok{values\_to =} \StringTok{"pop"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =} \FunctionTok{as.integer}\NormalTok{(year)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(year) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{pop\_share =}\NormalTok{ pop }\SpecialCharTok{/} \FunctionTok{sum}\NormalTok{(pop, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ungroup}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

Now we load the Brazilian state geometries, remove Distrito Federal from
the map (since DF was merged into Goiás), standardize names to a
comparable key, and join the map with the population shares.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{br\_states }\OtherTok{\textless{}{-}}\NormalTok{ geobr}\SpecialCharTok{::}\FunctionTok{read\_state}\NormalTok{(}\AttributeTok{year =} \DecValTok{2010}\NormalTok{, }\AttributeTok{showProgress =} \ConstantTok{FALSE}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{st\_transform}\NormalTok{(}\DecValTok{4674}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{name\_key =} \FunctionTok{stri\_trans\_general}\NormalTok{(name\_state, }\StringTok{"Latin{-}ASCII"}\NormalTok{) }\SpecialCharTok{|\textgreater{}} \FunctionTok{tolower}\NormalTok{()) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(name\_state }\SpecialCharTok{!=} \StringTok{"Distrito Federal"}\NormalTok{)}

\NormalTok{pop\_long }\OtherTok{\textless{}{-}}\NormalTok{ pop\_long }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{name\_key =} \FunctionTok{stri\_trans\_general}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{Unidade da Federação}\StringTok{\textasciigrave{}}\NormalTok{, }\StringTok{"Latin{-}ASCII"}\NormalTok{) }\SpecialCharTok{|\textgreater{}} \FunctionTok{tolower}\NormalTok{())}

\NormalTok{map\_df }\OtherTok{\textless{}{-}}\NormalTok{ br\_states }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{left\_join}\NormalTok{(pop\_long, }\AttributeTok{by =} \StringTok{"name\_key"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Finally, we bin shares into quintiles within each year (so the legend
reflects the distribution in that year) and plot the three maps
side-by-side.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# =========================}
\CommentTok{\# Red outline: North + Center{-}West (merged geometry)}
\CommentTok{\# =========================}
\NormalTok{north\_cw\_states\_key }\OtherTok{\textless{}{-}} \FunctionTok{stri\_trans\_general}\NormalTok{(}
  \FunctionTok{c}\NormalTok{(}
    \StringTok{"Acre"}\NormalTok{, }\StringTok{"Amapá"}\NormalTok{, }\StringTok{"Amazonas"}\NormalTok{, }\StringTok{"Pará"}\NormalTok{, }\StringTok{"Rondônia"}\NormalTok{, }\StringTok{"Roraima"}\NormalTok{, }\StringTok{"Tocantins"}\NormalTok{,}
    \StringTok{"Mato Grosso"}\NormalTok{, }\StringTok{"Mato Grosso do Sul"}\NormalTok{, }\StringTok{"Goiás"}
\NormalTok{  ),}
  \StringTok{"Latin{-}ASCII"}
\NormalTok{) }\SpecialCharTok{|\textgreater{}} \FunctionTok{tolower}\NormalTok{()}

\NormalTok{region\_outline }\OtherTok{\textless{}{-}}\NormalTok{ br\_states }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{name\_key =} \FunctionTok{stri\_trans\_general}\NormalTok{(name\_state, }\StringTok{"Latin{-}ASCII"}\NormalTok{) }\SpecialCharTok{|\textgreater{}} \FunctionTok{tolower}\NormalTok{()) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(name\_key }\SpecialCharTok{\%in\%}\NormalTok{ north\_cw\_states\_key) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{st\_make\_valid}\NormalTok{()}

\NormalTok{region\_outline\_smooth }\OtherTok{\textless{}{-}}\NormalTok{ rmapshaper}\SpecialCharTok{::}\FunctionTok{ms\_simplify}\NormalTok{(region\_outline, }\AttributeTok{keep =} \FloatTok{0.03}\NormalTok{, }\AttributeTok{keep\_shapes =} \ConstantTok{TRUE}\NormalTok{)}

\CommentTok{\# =========================}
\CommentTok{\# Binning (fixed breaks across years)}
\CommentTok{\# =========================}
\NormalTok{breaks }\OtherTok{\textless{}{-}} \FunctionTok{quantile}\NormalTok{(map\_df}\SpecialCharTok{$}\NormalTok{pop\_share, }\AttributeTok{probs =} \FunctionTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\FloatTok{0.2}\NormalTok{), }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{map\_df }\OtherTok{\textless{}{-}}\NormalTok{ map\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{pop\_share\_bin =} \FunctionTok{cut}\NormalTok{(}
\NormalTok{      pop\_share,}
      \AttributeTok{breaks =}\NormalTok{ breaks,}
      \AttributeTok{include.lowest =} \ConstantTok{TRUE}\NormalTok{,}
      \AttributeTok{right =} \ConstantTok{TRUE}
\NormalTok{    )}
\NormalTok{  )}

\NormalTok{facet\_labs }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{1950}\StringTok{\textasciigrave{}}\OtherTok{=}\StringTok{"(a) 1950"}\NormalTok{, }\StringTok{\textasciigrave{}}\AttributeTok{2000}\StringTok{\textasciigrave{}}\OtherTok{=}\StringTok{"(b) 2000"}\NormalTok{, }\StringTok{\textasciigrave{}}\AttributeTok{2010}\StringTok{\textasciigrave{}}\OtherTok{=}\StringTok{"(c) 2010"}\NormalTok{)}

\CommentTok{\# =========================}
\CommentTok{\# Plot}
\CommentTok{\# =========================}
\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(map\_df) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{fill =}\NormalTok{ pop\_share\_bin), }\AttributeTok{color =} \StringTok{"grey75"}\NormalTok{, }\AttributeTok{linewidth =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{fill =} \ConstantTok{NA}\NormalTok{, }\AttributeTok{color =} \StringTok{"grey20"}\NormalTok{, }\AttributeTok{linewidth =} \FloatTok{0.25}\NormalTok{) }\SpecialCharTok{+}
  
  \CommentTok{\# red regional outline}
  \FunctionTok{geom\_sf}\NormalTok{(}
    \AttributeTok{data =}\NormalTok{ region\_outline\_smooth,}
    \AttributeTok{fill =} \ConstantTok{NA}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"red"}\NormalTok{,}
    \AttributeTok{linewidth =} \DecValTok{1}
\NormalTok{  ) }\SpecialCharTok{+}
  
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{ year, }\AttributeTok{nrow =} \DecValTok{1}\NormalTok{, }\AttributeTok{labeller =} \FunctionTok{labeller}\NormalTok{(}\AttributeTok{year =}\NormalTok{ facet\_labs)) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_brewer}\NormalTok{(}\AttributeTok{palette =} \StringTok{"Blues"}\NormalTok{, }\AttributeTok{na.value =} \StringTok{"white"}\NormalTok{, }\AttributeTok{name =} \StringTok{"Share"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{coord\_sf}\NormalTok{(}\AttributeTok{datum =} \ConstantTok{NA}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Spatial Distribution of the Brazilian Population (by State)"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Population share by state (share computed within each year)"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{12}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{panel.grid =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.text =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.title =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{legend.position =} \StringTok{"bottom"}\NormalTok{,}
    \AttributeTok{strip.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{16}\NormalTok{),}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{18}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{)}
\NormalTok{  )}

\FunctionTok{print}\NormalTok{(p)}

\FunctionTok{ggsave}\NormalTok{(}\StringTok{"brazil\_pop\_share\_states\_1950\_2000\_2010.png"}\NormalTok{, p, }\AttributeTok{width =} \DecValTok{14}\NormalTok{, }\AttributeTok{height =} \DecValTok{5}\NormalTok{, }\AttributeTok{dpi =} \DecValTok{300}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Resulting Figure 3}\label{resulting-figure-3}

\begin{figure}
\centering
\pandocbounded{\includegraphics[keepaspectratio,alt={Figure 3}]{Figure_3/brazil_pop_share_states_1950_2000_2010.png}}
\caption{Figure 3}
\end{figure}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{4. Balboni, C.A., 2021. In harm's way? infrastructure
investments and the persistence of coastal cities. Link here (fig.~3:
Vietnam's road infrastructure by road type - if
available)}\label{balboni-c.a.-2021.-in-harms-way-infrastructure-investments-and-the-persistence-of-coastal-cities.-link-here-fig.-3-vietnams-road-infrastructure-by-road-type---if-available}

Original File: \texttt{Figure4\_assig1/figure3\_vietnam\_roads.Rmd}

\subsection{Introduction}\label{introduction}

This document replicates Figure 3 from Balboni (2021), \emph{``In Harm's
Way? Infrastructure Investments and the Persistence of Coastal
Cities''}.

\subsection{Packages}\label{packages}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(osmdata)}
\FunctionTok{library}\NormalTok{(rnaturalearth)}
\FunctionTok{library}\NormalTok{(patchwork)}
\end{Highlighting}
\end{Shaded}

\subsection{Vietnam Boundary}\label{vietnam-boundary}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vietnam }\OtherTok{\textless{}{-}} \FunctionTok{ne\_countries}\NormalTok{(}
  \AttributeTok{scale =} \StringTok{"medium"}\NormalTok{,}
  \AttributeTok{country =} \StringTok{"Vietnam"}\NormalTok{,}
  \AttributeTok{returnclass =} \StringTok{"sf"}
\NormalTok{)}

\FunctionTok{st\_crs}\NormalTok{(vietnam)}
\end{Highlighting}
\end{Shaded}

\subsection{Road Data}\label{road-data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{roads\_ne }\OtherTok{\textless{}{-}} \FunctionTok{ne\_download}\NormalTok{(}\AttributeTok{scale =} \StringTok{"large"}\NormalTok{,}
                        \AttributeTok{type =} \StringTok{"roads"}\NormalTok{,}
                        \AttributeTok{category =} \StringTok{"cultural"}\NormalTok{,}
                        \AttributeTok{returnclass =} \StringTok{"sf"}\NormalTok{)}

\NormalTok{roads\_ne}
\end{Highlighting}
\end{Shaded}

\subsection{Spatial Intersection}\label{spatial-intersection}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{roads\_vn }\OtherTok{\textless{}{-}} \FunctionTok{st\_intersection}\NormalTok{(roads\_ne, vietnam)}

\NormalTok{roads\_vn}
\end{Highlighting}
\end{Shaded}

\subsection{Road Type Classification}\label{road-type-classification}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(roads\_vn}\SpecialCharTok{$}\NormalTok{featurecla)}
\FunctionTok{table}\NormalTok{(roads\_vn}\SpecialCharTok{$}\NormalTok{type)}
\NormalTok{roads\_vn }\OtherTok{\textless{}{-}}\NormalTok{ roads\_vn }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{road\_cat =} \FunctionTok{case\_when}\NormalTok{(}
\NormalTok{    type }\SpecialCharTok{==} \StringTok{"Major Highway"} \SpecialCharTok{\textasciitilde{}} \StringTok{"Major roads"}\NormalTok{,}
\NormalTok{    type }\SpecialCharTok{==} \StringTok{"Road"} \SpecialCharTok{\textasciitilde{}} \StringTok{"Minor roads"}\NormalTok{,}
    \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \StringTok{"Other roads"}
\NormalTok{  ))}

\FunctionTok{table}\NormalTok{(roads\_vn}\SpecialCharTok{$}\NormalTok{road\_cat)}
\end{Highlighting}
\end{Shaded}

\subsection{Road Layers}\label{road-layers}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{major\_roads }\OtherTok{\textless{}{-}}\NormalTok{ roads\_vn }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(road\_cat }\SpecialCharTok{==} \StringTok{"Major roads"}\NormalTok{)}
\NormalTok{minor\_roads }\OtherTok{\textless{}{-}}\NormalTok{ roads\_vn }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(road\_cat }\SpecialCharTok{==} \StringTok{"Minor roads"}\NormalTok{)}
\NormalTok{other\_roads }\OtherTok{\textless{}{-}}\NormalTok{ roads\_vn }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(road\_cat }\SpecialCharTok{==} \StringTok{"Other roads"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Replication of Figure 3}\label{replication-of-figure-3}

\subsubsection{Road Map 2000
(Approximation)}\label{road-map-2000-approximation}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{map\_2000 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vietnam, }\AttributeTok{fill =} \StringTok{"white"}\NormalTok{, }\AttributeTok{color =} \StringTok{"grey40"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ minor\_roads, }\AttributeTok{color =} \StringTok{"\#f2c879"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ major\_roads, }\AttributeTok{color =} \StringTok{"red"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.6}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{panel.grid =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.title =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.text =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.ticks =} \FunctionTok{element\_blank}\NormalTok{()}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Road map 2000"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Road Map 2010}\label{road-map-2010}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{map\_2010 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vietnam, }\AttributeTok{fill =} \StringTok{"white"}\NormalTok{, }\AttributeTok{color =} \StringTok{"grey40"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ other\_roads, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =} \StringTok{"Other roads"}\NormalTok{), }\AttributeTok{size =} \FloatTok{0.15}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ minor\_roads, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =} \StringTok{"Minor roads"}\NormalTok{), }\AttributeTok{size =} \FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ major\_roads, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =} \StringTok{"Major roads"}\NormalTok{), }\AttributeTok{size =} \FloatTok{0.6}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}
    \AttributeTok{name =} \StringTok{"Road types"}\NormalTok{,}
    \AttributeTok{values =} \FunctionTok{c}\NormalTok{(}
      \StringTok{"Major roads"} \OtherTok{=} \StringTok{"red"}\NormalTok{,}
      \StringTok{"Minor roads"} \OtherTok{=} \StringTok{"\#f1a340"}\NormalTok{,}
      \StringTok{"Other roads"} \OtherTok{=} \StringTok{"\#f7d7a6"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{panel.grid =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.title =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.text =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{axis.ticks =} \FunctionTok{element\_blank}\NormalTok{()}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Road map 2010"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Final Figure}\label{final-figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{(map\_2000 }\SpecialCharTok{|}\NormalTok{ map\_2010) }\SpecialCharTok{+}
  \FunctionTok{plot\_layout}\NormalTok{(}\AttributeTok{guides =} \StringTok{"collect"}\NormalTok{) }\SpecialCharTok{\&} 
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"bottom"}\NormalTok{,}
    \AttributeTok{legend.justification =} \StringTok{"center"}\NormalTok{,}
    \AttributeTok{legend.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{11}\NormalTok{),}
    \AttributeTok{legend.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{10}\NormalTok{)}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\textbf{Figure 3.} Road infrastructure in Vietnam in 2000
(approximation) and 2010 by road type.

\subsubsection{Resulting Figure 4}\label{resulting-figure-4}

\begin{figure}
\centering
\pandocbounded{\includegraphics[keepaspectratio,alt={Figure 4}]{Figure4_assig1/fig4.png}}
\caption{Figure 4}
\end{figure}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{5. Morten, M. \& Oliveira, J., 2024 The Effects of Roads on
Trade and Migration: Evidence from a Planned Capital City (fig.~1:
Brazil's capital and main road
infrastructure)}\label{morten-m.-oliveira-j.-2024-the-effects-of-roads-on-trade-and-migration-evidence-from-a-planned-capital-city-fig.-1-brazils-capital-and-main-road-infrastructure}

Original File: \texttt{Figure\ 5/fig5.Rmd}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(ggrepel)}
\FunctionTok{library}\NormalTok{(rmapshaper)}

\NormalTok{no\_axis }\OtherTok{\textless{}{-}} \FunctionTok{theme}\NormalTok{(}
  \AttributeTok{axis.title =} \FunctionTok{element\_blank}\NormalTok{(),}
  \AttributeTok{axis.text  =} \FunctionTok{element\_blank}\NormalTok{(),}
  \AttributeTok{axis.ticks =} \FunctionTok{element\_blank}\NormalTok{()}
\NormalTok{)}

\NormalTok{theme\_paper\_map }\OtherTok{\textless{}{-}} \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{11}\NormalTok{) }\SpecialCharTok{+}
\NormalTok{  no\_axis }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{panel.grid.major =} \FunctionTok{element\_line}\NormalTok{(}\AttributeTok{color =} \StringTok{"grey92"}\NormalTok{, }\AttributeTok{linewidth =} \FloatTok{0.25}\NormalTok{),}
    \AttributeTok{panel.grid.minor =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{legend.position  =} \StringTok{"right"}\NormalTok{,}
    \AttributeTok{legend.title     =} \FunctionTok{element\_blank}\NormalTok{()}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

Here we used the same structure and data from the paper, as it was made
available in the article

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{secdata }\OtherTok{\textless{}{-}} \StringTok{"/Users/felipe/Documents/BSE/Term{-}2/Geospatial.csv/hw1/183316{-}V1{-}2/Data/GIS\_data"}

\NormalTok{states }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(secdata,}\StringTok{"uf1940/uf1940\_prj.shp"}\NormalTok{), }\AttributeTok{quiet=}\ConstantTok{TRUE}\NormalTok{)}
\NormalTok{states\_simple }\OtherTok{\textless{}{-}} \FunctionTok{ms\_simplify}\NormalTok{(states, }\AttributeTok{keep =} \FloatTok{0.01}\NormalTok{, }\AttributeTok{keep\_shapes =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{year }\OtherTok{\textless{}{-}} \DecValTok{2000}
\NormalTok{file\_name }\OtherTok{\textless{}{-}} \FunctionTok{paste0}\NormalTok{(year,}\StringTok{"/highways\_"}\NormalTok{,year,}\StringTok{"\_prj.shp"}\NormalTok{)}
\NormalTok{all\_highways }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(secdata, }\StringTok{"roads"}\NormalTok{, file\_name), }\AttributeTok{quiet=}\ConstantTok{TRUE}\NormalTok{)}
\NormalTok{all\_highways\_simple }\OtherTok{\textless{}{-}} \FunctionTok{ms\_simplify}\NormalTok{(all\_highways, }\AttributeTok{keep =} \FloatTok{0.01}\NormalTok{, }\AttributeTok{keep\_shapes =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{mst\_pie }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(secdata, }\StringTok{"mst/mst\_pie\_prj.shp"}\NormalTok{), }\AttributeTok{quiet=}\ConstantTok{TRUE}\NormalTok{)}
\NormalTok{mst\_pie\_simple }\OtherTok{\textless{}{-}} \FunctionTok{ms\_simplify}\NormalTok{(mst\_pie, }\AttributeTok{keep =} \FloatTok{0.01}\NormalTok{, }\AttributeTok{keep\_shapes =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{mst\_all\_rio }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(secdata, }\StringTok{"mst/mst\_all\_rio\_prj.shp"}\NormalTok{), }\AttributeTok{quiet=}\ConstantTok{TRUE}\NormalTok{)}
\NormalTok{mst\_all\_rio\_simple }\OtherTok{\textless{}{-}} \FunctionTok{ms\_simplify}\NormalTok{(mst\_all\_rio, }\AttributeTok{keep =} \FloatTok{0.01}\NormalTok{, }\AttributeTok{keep\_shapes =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{capital\_cities }\OtherTok{\textless{}{-}} \FunctionTok{st\_read}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(secdata,}\StringTok{"cities/brazil\_capital\_cities\_prj.shp"}\NormalTok{), }\AttributeTok{quiet=}\ConstantTok{TRUE}\NormalTok{)}

\CommentTok{\# Harmonize CRS (assumes all are already projected as *\_prj.shp,}
\CommentTok{\# but ensures they match)}
\NormalTok{target\_crs }\OtherTok{\textless{}{-}} \FunctionTok{st\_crs}\NormalTok{(states\_simple)}

\NormalTok{all\_highways\_simple }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(all\_highways\_simple, target\_crs)}
\NormalTok{mst\_pie\_simple      }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(mst\_pie\_simple, target\_crs)}
\NormalTok{mst\_all\_rio\_simple  }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(mst\_all\_rio\_simple, target\_crs)}
\NormalTok{capital\_cities      }\OtherTok{\textless{}{-}} \FunctionTok{st\_transform}\NormalTok{(capital\_cities, target\_crs)}

\NormalTok{cities\_xy }\OtherTok{\textless{}{-}} \FunctionTok{cbind}\NormalTok{(capital\_cities, }\FunctionTok{st\_coordinates}\NormalTok{(capital\_cities)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{st\_drop\_geometry}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# bbox based on states (more stable)}
\NormalTok{bb }\OtherTok{\textless{}{-}} \FunctionTok{st\_bbox}\NormalTok{(states\_simple)}

\CommentTok{\# If you want some "breathing room" around (paper has margin)}
\NormalTok{pad }\OtherTok{\textless{}{-}} \FloatTok{0.02}
\NormalTok{xpad }\OtherTok{\textless{}{-}}\NormalTok{ (bb}\SpecialCharTok{$}\NormalTok{xmax }\SpecialCharTok{{-}}\NormalTok{ bb}\SpecialCharTok{$}\NormalTok{xmin) }\SpecialCharTok{*}\NormalTok{ pad}
\NormalTok{ypad }\OtherTok{\textless{}{-}}\NormalTok{ (bb}\SpecialCharTok{$}\NormalTok{ymax }\SpecialCharTok{{-}}\NormalTok{ bb}\SpecialCharTok{$}\NormalTok{ymin) }\SpecialCharTok{*}\NormalTok{ pad}

\NormalTok{xlim }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(bb}\SpecialCharTok{$}\NormalTok{xmin }\SpecialCharTok{{-}}\NormalTok{ xpad, bb}\SpecialCharTok{$}\NormalTok{xmax }\SpecialCharTok{+}\NormalTok{ xpad)}
\NormalTok{ylim }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(bb}\SpecialCharTok{$}\NormalTok{ymin }\SpecialCharTok{{-}}\NormalTok{ ypad, bb}\SpecialCharTok{$}\NormalTok{ymax }\SpecialCharTok{+}\NormalTok{ ypad)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{roads\_nonrad }\OtherTok{\textless{}{-}}\NormalTok{ all\_highways\_simple }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(dm\_anlys\_p }\SpecialCharTok{==} \DecValTok{1}\NormalTok{, dm\_radial }\SpecialCharTok{==} \DecValTok{0}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{layer =} \StringTok{"Non{-}radial highways (2000)"}\NormalTok{)}
\NormalTok{roads\_rad }\OtherTok{\textless{}{-}}\NormalTok{ all\_highways\_simple }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(dm\_anlys\_p }\SpecialCharTok{==} \DecValTok{1}\NormalTok{, dm\_radial }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{layer =} \StringTok{"Radial highways (2000)"}\NormalTok{)}
\NormalTok{mst\_layer }\OtherTok{\textless{}{-}}\NormalTok{ mst\_pie\_simple }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{layer =} \StringTok{"Minimum spanning tree"}\NormalTok{)}

\NormalTok{fig\_1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ states\_simple, }\AttributeTok{fill =} \StringTok{"white"}\NormalTok{, }\AttributeTok{color =} \StringTok{"grey90"}\NormalTok{, }\AttributeTok{linewidth =} \FloatTok{0.25}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ roads\_nonrad, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ layer, }\AttributeTok{linetype =}\NormalTok{ layer), }\AttributeTok{linewidth =} \FloatTok{0.35}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ roads\_rad,    }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ layer, }\AttributeTok{linetype =}\NormalTok{ layer), }\AttributeTok{linewidth =} \FloatTok{0.55}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ mst\_layer,    }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ layer, }\AttributeTok{linetype =}\NormalTok{ layer), }\AttributeTok{linewidth =} \FloatTok{0.60}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{data =}\NormalTok{ cities\_xy, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y), }\AttributeTok{size =} \FloatTok{1.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text\_repel}\NormalTok{(}
    \AttributeTok{data =}\NormalTok{ cities\_xy, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ X, }\AttributeTok{y =}\NormalTok{ Y, }\AttributeTok{label =}\NormalTok{ CITY\_NAME),}
    \AttributeTok{size =} \DecValTok{3}\NormalTok{, }\AttributeTok{min.segment.length =} \DecValTok{0}\NormalTok{,}
    \AttributeTok{box.padding =} \FloatTok{0.25}\NormalTok{, }\AttributeTok{point.padding =} \FloatTok{0.15}\NormalTok{,}
    \AttributeTok{seed =} \DecValTok{1}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{coord\_sf}\NormalTok{(}\AttributeTok{xlim =}\NormalTok{ xlim, }\AttributeTok{ylim =}\NormalTok{ ylim, }\AttributeTok{expand =} \ConstantTok{FALSE}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}
    \AttributeTok{values =} \FunctionTok{c}\NormalTok{(}
      \StringTok{"Minimum spanning tree"}      \OtherTok{=} \StringTok{"grey20"}\NormalTok{,}
      \StringTok{"Non{-}radial highways (2000)"} \OtherTok{=} \StringTok{"grey55"}\NormalTok{,}
      \StringTok{"Radial highways (2000)"}     \OtherTok{=} \StringTok{"grey20"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{scale\_linetype\_manual}\NormalTok{(}
    \AttributeTok{values =} \FunctionTok{c}\NormalTok{(}
      \StringTok{"Minimum spanning tree"}      \OtherTok{=} \StringTok{"dotted"}\NormalTok{,}
      \StringTok{"Non{-}radial highways (2000)"} \OtherTok{=} \StringTok{"dashed"}\NormalTok{,}
      \StringTok{"Radial highways (2000)"}     \OtherTok{=} \StringTok{"solid"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{guides}\NormalTok{(}
    \AttributeTok{color =} \FunctionTok{guide\_legend}\NormalTok{(}\AttributeTok{order =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{linetype =} \FunctionTok{guide\_legend}\NormalTok{(}\AttributeTok{order =} \DecValTok{1}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{+}
\NormalTok{  theme\_paper\_map}
\FunctionTok{print}\NormalTok{(fig\_1)}
\FunctionTok{ggsave}\NormalTok{(}\StringTok{"roads\_brazil.png"}\NormalTok{, fig\_1, }\AttributeTok{width =} \DecValTok{14}\NormalTok{, }\AttributeTok{height =} \DecValTok{5}\NormalTok{, }\AttributeTok{dpi =} \DecValTok{300}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Resulting Figure 5}\label{resulting-figure-5}

\begin{figure}
\centering
\pandocbounded{\includegraphics[keepaspectratio,alt={Figure 5}]{Figure 5/roads_brazil.png}}
\caption{Figure 5}
\end{figure}

\end{document}
